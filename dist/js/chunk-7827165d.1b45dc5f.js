(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7827165d"],{"1a75":function(e,t,r){"use strict";var a=r("2168"),n=r.n(a);n.a},2168:function(e,t,r){},"25eb":function(e,t,r){var a=r("23e7"),n=r("c20d");a({target:"Number",stat:!0,forced:Number.parseInt!=n},{parseInt:n})},"2e59":function(e,t,r){},"3ee1":function(e,t,r){"use strict";var a=r("e914"),n=r.n(a);n.a},"45e7":function(e,t,r){"use strict";var a=r("efc1"),n=r.n(a);n.a},4809:function(e,t,r){"use strict";var a=r("2e59"),n=r.n(a);n.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var a=r("1d80"),n=r("5899"),s="["+n+"]",o=RegExp("^"+s+s+"*"),i=RegExp(s+s+"*$"),c=function(e){return function(t){var r=String(a(t));return 1&e&&(r=r.replace(o,"")),2&e&&(r=r.replace(i,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},"63a2":function(e,t,r){"use strict";var a=r("ee14"),n=r.n(a);n.a},7156:function(e,t,r){var a=r("861d"),n=r("d2bb");e.exports=function(e,t,r){var s,o;return n&&"function"==typeof(s=t.constructor)&&s!==r&&a(o=s.prototype)&&o!==r.prototype&&n(e,o),e}},"725a":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"league-management-page"}},[r("h1",{staticClass:"match-headline"},[e._v(" League Matches ")]),r("matches-table",{attrs:{futureMatches:e.displayFutureMatches,pastMatches:e.displayPastMatches,isBusy:e.isBusy},on:{"update-match-delete":e.updateMatchDelete}}),r("b-button",{attrs:{disabled:!e.deleteMatchID,variant:"danger",size:"lg",id:"delete-match-btn"},on:{click:function(t){return e.deleteMatch()}}},[e._v(" Delete Match ")]),r("b-button",{attrs:{disabled:e.addMatchDisabled,variant:"primary",size:"lg",id:"btn-add-new-match"},on:{click:function(t){return e.moveToAddMatch()}}},[e._v(" Add New Match ")])],1)},n=[],s=(r("d81d"),r("a434"),r("4795"),r("96cf"),r("1da1")),o=r("2909"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"matches-div"}},[r("b-table",{ref:"matchesTable",staticClass:"matches-table",attrs:{fields:e.fields,items:e.matches,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"per-page":e.perPage,"current-page":e.currentPage,busy:e.isBusy,hover:"",bordered:"",outlined:"","no-border-collapse":"",selectable:"","select-mode":"single","head-variant":"light","table-variant":"light","sort-icon-left":""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"head(matchScore)",fn:function(){return[r("b-row",{attrs:{colspan:"2"}},[r("b-col",[e._v(" Score ")])],1),r("b-row",{attrs:{colspan:"2"}},[r("b-col",[e._v(" Local : Visitor ")])],1)]},proxy:!0},{key:"cell(localTeamName)",fn:function(t){var a=t.value;return[r("router-link",{staticClass:"teams-names",attrs:{to:"/teams/teamDetails/"+a}},[e._v(" "+e._s(a)+" ")])]}},{key:"cell(visitorTeamName)",fn:function(t){var a=t.value;return[r("router-link",{staticClass:"teams-names",attrs:{to:"/teams/teamDetails/"+a}},[e._v(" "+e._s(a)+" ")])]}},{key:"cell(matchScore)",fn:function(t){return[r("b-row",[e.checkAddMatchResult(t)?r("b-col",[r("b",[e._v(e._s(t.item.localTeamScore))]),e._v(" : "),r("b",[e._v(e._s(t.item.visitorTeamScore))])]):r("b-col",[r("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(r){return e.toggleRowDetails(t.item,"matchResult")}}},[e._v(" "+e._s(t.item._matchResultShowing?"Cancel":"Add")+" Match Result ")])],1)],1)]}},{key:"cell(refereeInformation)",fn:function(t){var a=t.item,n=t.value;return[Object.keys(n).length?r("b-button",{attrs:{variant:"info",size:"sm"},on:{click:function(t){return e.toggleRowDetails(a,"referee")}}},[e._v(" "+e._s(a._refereeShowing?"Hide":"Show")+" Details ")]):r("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(t){return e.toggleRowDetails(a,"referee")}}},[e._v(" "+e._s(a._refereeShowing?"Cancel":"Add")+" Referee ")])]}},{key:"cell(eventsLog)",fn:function(t){var a=t.item;return[1==e.checkEventLog(a)?r("b-button",{attrs:{variant:"info",size:"sm"},on:{click:function(t){return e.toggleRowDetails(a,"events")}}},[e._v(" "+e._s(a._eventsShowing?"Hide":"Show")+" Details ")]):0==e.checkEventLog(a)?r("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(t){return e.toggleRowDetails(a,"events")}}},[e._v(" "+e._s(a._eventsShowing?"Cancel":"Add")+" Event Log ")]):e._e()]}},{key:"cell(selected)",fn:function(t){var a=t.rowSelected;return[a?[r("span",{attrs:{"aria-hidden":"true"}},[e._v("✓")]),r("span",{staticClass:"sr-only"},[e._v("Selected")])]:[r("span",{attrs:{"aria-hidden":"true"}}),r("span",{staticClass:"sr-only"},[e._v("Not selected")])]]}},{key:"row-details",fn:function(t){return[r("b-card",[t.item._refereeShowing?r("referee-preview",{attrs:{refereeInfo:t.item.refereeInformation,matchID:t.item.matchID,matchDate:t.item.matchDate},on:{"cancel-add-referee":function(r){return e.toggleRowDetails(t.item,"referee")}}}):e._e(),t.item._eventsShowing?r("events-log-preview",{attrs:{matchID:t.item.matchID,eventsLog:t.item.eventsLog},on:{"cancel-add-event":function(r){return e.toggleRowDetails(t.item,"events")}}}):e._e(),t.item._matchResultShowing?r("add-match-result",{attrs:{matchID:t.item.matchID,localTeamName:t.item.localTeamName,visitorTeamName:t.item.visitorTeamName},on:{"cancel-add-match-result":function(r){return e.toggleRowDetails(t.item,"matchResult")}}}):e._e()],1)]}},{key:"table-busy",fn:function(){return[r("div",{staticClass:"text-center text-danger my-2"},[r("loading")],1)]},proxy:!0}])}),r("b-pagination",{staticClass:"matches-pagination",attrs:{"total-rows":e.rows,"per-page":e.perPage,"aria-controls":"matches-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)},c=[],l=(r("0d03"),r("a9e3"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{directives:[{name:"show",rawName:"v-show",value:e.showRefereeInfo,expression:"showRefereeInfo"}],attrs:{id:"table-div"}},[r("b-table",{attrs:{id:"referee-table",hover:"",bordered:"",striped:"",outlined:"","no-border-collapse":"",items:e.informationList}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.showRefereeInfo,expression:"!showRefereeInfo"}],attrs:{id:"add-referee-div"}},[r("h5",{attrs:{id:"select-referee-title"}},[e._v(" Select Referee : ")]),r("b-overlay",{attrs:{show:e.loadingState},scopedSlots:e._u([{key:"overlay",fn:function(){return[r("loading")]},proxy:!0}])},[r("b-table",{ref:"refereeTable",attrs:{id:"referees-table","table-variant":"light","head-variant":"light",responsive:"sm",hover:"",bordered:"",striped:"",outlined:"","no-border-collapse":"",selectable:"","select-mode":"single",items:e.referees,fields:e.refereeFields},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"cell(selected)",fn:function(t){var a=t.rowSelected;return[a?[r("span",{attrs:{"aria-hidden":"true"}},[e._v("✓")]),r("span",{staticClass:"sr-only"},[e._v("Selected")])]:[r("span",{attrs:{"aria-hidden":"true"}}),r("span",{staticClass:"sr-only"},[e._v("Not selected")])]]}}])}),r("b-button",{attrs:{variant:"danger",id:"cancel-add-referee"},on:{click:e.cancelBtn}},[e._v(" Cancel ")]),e.updateOrAdd?r("b-button",{staticClass:"ml-5 w-25",attrs:{disabled:!this.form.refereeID,variant:"primary"},on:{click:function(t){return e.updateReferee()}}},[e._v(" Update Referee ")]):r("b-button",{staticClass:"ml-5 w-25",attrs:{disabled:!this.form.refereeID,variant:"primary"},on:{click:function(t){return e.addReferee()}}},[e._v(" Add Referee ")]),e.form.submitError?r("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""},on:{dismissed:e.rebootError}},[e._v(" Add New Match Failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)],1),r("div",{attrs:{id:"update-referee-btn"}},[r("b-button",{directives:[{name:"show",rawName:"v-show",value:e.showRefereeInfo,expression:"showRefereeInfo"}],attrs:{variant:"primary",size:"md"},on:{click:function(t){return e.updateRefereeBtn()}}},[e._v(" Update Referee ")])],1)])}),u=[],d=(r("b64b"),r("c428")),m={name:"RefereePreview",components:{Loading:d["a"]},data:function(){return{form:{refereeID:void 0,firstname:void 0,lastname:void 0,course:void 0,submitError:void 0},refereeFields:["selected","refereeID","firstName","lastName","course"],updateRefereeState:!1,loadingState:!1}},props:{refereeInfo:{type:Object,require:!0},matchID:{type:Number,require:!0},matchDate:{type:String,require:!0}},methods:{onRowSelected:function(e){var t,r,a,n;this.form.refereeID=null===(t=e[0])||void 0===t?void 0:t.refereeID,this.form.firstname=null===(r=e[0])||void 0===r?void 0:r.firstName,this.form.lastname=null===(a=e[0])||void 0===a?void 0:a.lastName,this.form.course=null===(n=e[0])||void 0===n?void 0:n.course},updateRefereeBtn:function(){this.updateRefereeState=!this.updateRefereeState},cancelBtn:function(){Object.keys(this.refereeInfo).length?(this.form={refereeID:void 0,firstname:void 0,lastname:void 0,course:void 0},this.$refs.refereeTable.clearSelected(),this.updateRefereeBtn()):this.$emit("cancel-add-referee")},addReferee:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loadingState=!0,e.axios.defaults.withCredentials=!0,t.next=5,e.axios.post(e.$root.store.serverUrl+"unionAgent/addRefereeToMatch",{matchID:e.matchID,refereeID:e.form.refereeID});case 5:r=t.sent,e.axios.defaults.withCredentials=!1,200==r.status&&(e.updateLocalStorage(),e.$root.toast("Referee Add","Referee Added successfully","success")),e.loadingState=!1,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),e.loadingState=!1,e.form.submitError=t.t0.response.data;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},updateReferee:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loadingState=!0,e.axios.defaults.withCredentials=!0,t.next=5,e.axios.put(e.$root.store.serverUrl+"unionAgent/addRefereeToMatch",{matchID:e.matchID,refereeID:e.form.refereeID});case 5:r=t.sent,e.axios.defaults.withCredentials=!1,200==r.status&&(e.updateLocalStorage(),e.$root.toast("Referee Update","Referee Updated successfully","success")),e.loadingState=!1,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),e.loadingState=!1,e.form.submitError=t.t0.response.data;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},updateLocalStorage:function(){var e=this,t="",r="";new Date>new Date(this.matchDate)?(t=JSON.parse(localStorage.getItem("leaguePastMatches")),r="past"):(t=JSON.parse(localStorage.getItem("leagueFutureMatches")),r="future"),t.map((function(t){t.matchID==e.matchID&&(t.refereeInformation={refereeID:e.form.refereeID,firstname:e.form.firstname,lastname:e.form.lastname,course:e.form.course})})),"past"==r?localStorage.setItem("leaguePastMatches",JSON.stringify(t)):localStorage.setItem("leagueFutureMatches",JSON.stringify(t))},rebootError:function(){this.form.submitError=void 0}},computed:{informationList:function(){var e=[];return this.refereeInfo!={}&&e.push({refereeID:this.refereeInfo.refereeID,firstName:this.refereeInfo.firstname,lastName:this.refereeInfo.lastname,course:this.refereeInfo.course}),e},referees:function(){var e=this,t=[],r=JSON.parse(localStorage.getItem("referees"));return r&&r.map((function(r){JSON.stringify(r)!=JSON.stringify(e.refereeInfo)&&t.push({refereeID:r.refereeID,firstName:r.firstname,lastName:r.lastname,course:r.course})})),t},showRefereeInfo:function(){return!(!Object.keys(this.refereeInfo).length||this.updateRefereeState)},updateOrAdd:function(){return!!Object.keys(this.refereeInfo).length}}},h=m,f=(r("1a75"),r("2877")),v=Object(f["a"])(h,l,u,!1,null,"2a35826d",null),p=v.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-overlay",{attrs:{show:e.loadingState},scopedSlots:e._u([{key:"overlay",fn:function(){return[r("loading")]},proxy:!0}])},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.showEventsLogState,expression:"showEventsLogState"}],attrs:{id:"events-log"}},[r("h5",{attrs:{id:"events-log-title"}},[e._v(" Events Log : ")]),r("b-table",{ref:"eventsTable",attrs:{id:"events-table","table-variant":"light","head-variant":"light",responsive:"sm",hover:"",bordered:"",striped:"",outlined:"","no-border-collapse":"",selectable:"","select-mode":"single","per-page":e.perPage,"current-page":e.currentPage,items:e.eventsLog,fields:e.eventsFields},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"cell(selected)",fn:function(t){var a=t.rowSelected;return[a?[r("span",{attrs:{"aria-hidden":"true"}},[e._v("✓")]),r("span",{staticClass:"sr-only"},[e._v("Selected")])]:[r("span",{attrs:{"aria-hidden":"true"}}),r("span",{staticClass:"sr-only"},[e._v("Not selected")])]]}}])}),e.rows>4?r("b-pagination",{staticClass:"events-pagination",attrs:{"total-rows":e.rows,"per-page":e.perPage,"aria-controls":"events-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}):e._e(),r("b-button",{attrs:{disabled:!this.eventID,variant:"danger",id:"delete-event-btn"},on:{click:function(t){return e.deleteEvent()}}},[e._v(" Delete Event ")]),r("b-button",{attrs:{variant:"primary",size:"md",id:"add-event-btn"},on:{click:function(t){return e.addEventBtn()}}},[e._v(" Add New Event ")])],1),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.showEventsLogState,expression:"!showEventsLogState"}],attrs:{id:"add-event-div"}},[r("h5",{attrs:{id:"events-log-title"}},[e._v(" Add New Event : ")]),r("b-form",{attrs:{id:"add-match-result-form"},on:{submit:function(t){return t.preventDefault(),e.onAddEvent(t)},reset:function(t){return t.preventDefault(),e.onReset(t)}}},[r("b-form-group",{attrs:{id:"input-group-minute-in-match","label-cols-sm":"3",label:"Minute In Match :","label-for":"minuteInMatch"}},[r("b-form-input",{attrs:{id:"minuteInMatch",type:"number",min:"0",max:"120",onkeypress:"return event.charCode >= 48",placeholder:"-- Please Enter Minute In Match --",state:e.validateState("minuteInMatch")},model:{value:e.$v.form.minuteInMatch.$model,callback:function(t){e.$set(e.$v.form.minuteInMatch,"$model",t)},expression:"$v.form.minuteInMatch.$model"}}),e.$v.form.minuteInMatch.required?e._e():r("b-form-invalid-feedback",[e._v(" Minute in match is required ")]),e.$v.form.minuteInMatch.numeric?e._e():r("b-form-invalid-feedback",[e._v(" Minute Must Be Positive ")]),e.$v.form.minuteInMatch.between?e._e():r("b-form-invalid-feedback",[e._v(" Minute need to be between 0-120 ")])],1),r("b-form-group",{attrs:{id:"input-group-event-type","label-cols-sm":"3",label:"Event Type :","label-for":"eventType"}},[r("b-form-select",{attrs:{id:"eventType",options:e.eventTypes,state:e.validateState("eventType")},scopedSlots:e._u([{key:"first",fn:function(){return[r("b-form-select-option",{attrs:{value:"",disabled:""}},[e._v("-- Please Select Event Type --")])]},proxy:!0}]),model:{value:e.$v.form.eventType.$model,callback:function(t){e.$set(e.$v.form.eventType,"$model",t)},expression:"$v.form.eventType.$model"}}),e.$v.form.eventType.required?e._e():r("b-form-invalid-feedback",[e._v(" Event Type is required ")])],1),r("b-form-group",{attrs:{id:"input-group-event-type","label-cols-sm":"3",label:"Event Description :","label-for":"eventDescription"}},[r("b-form-input",{attrs:{id:"eventDescription",placeholder:"-- Enter Event Description"}})],1),r("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v(" Reset ")]),r("b-button",{staticClass:"ml-5 w-25",attrs:{disabled:this.$v.form.$invalid,type:"submit",variant:"primary"}},[e._v(" Add Event ")])],1),e.form.submitError?r("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""},on:{dismissed:e.rebootError}},[e._v(" Add New Match Failed: "+e._s(e.form.submitError)+" ")]):e._e(),r("b-button",{attrs:{variant:"info",id:"cancel-add-event"},on:{click:function(t){return e.cancelBtn()}}},[e._v(" Cancel Add Event ")])],1)])],1)},b=[],S=(r("25eb"),r("b5ae")),w={name:"EventsLogPreview",components:{Loading:d["a"]},data:function(){return{eventsFields:["selected","eventID","eventTimeAndDate","minuteInMatch","eventType","eventDescription"],eventID:void 0,eventToDelete:void 0,loadingState:!1,addEventState:!1,form:{minuteInMatch:"",eventType:"",eventDescription:"",submitError:void 0},eventTypes:["Goal","Red card","Yellow card","Injury","Subsitute"],currentPage:1,perPage:4}},props:{eventsLog:{type:Array,require:!0},matchID:{type:Number,require:!0}},methods:{onRowSelected:function(e){var t;this.eventID=null===(t=e[0])||void 0===t?void 0:t.eventID,this.eventToDelete=e[0]},deleteEvent:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loadingState=!0,e.axios.defaults.withCredentials=!0,t.next=5,e.axios["delete"](e.$root.store.serverUrl+"unionAgent/addMatchEventsLog",{params:{matchID:e.matchID,eventID:e.eventID}});case 5:r=t.sent,e.axios.defaults.withCredentials=!1,200==r.status&&(e.updateStorageAfterDelete(),e.$root.toast("Event Delete","Event deleted successfully","success")),e.loadingState=!1,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),e.loadingState=!1,e.form.submitError=t.t0.response.data;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},updateStorageAfterDelete:function(){var e=this,t=JSON.parse(localStorage.getItem("leaguePastMatches"));t.map((function(t){if(t.matchID==e.matchID){var r,a=0;t.eventsLog.map((function(t){t.eventID==e.eventID&&(r=a),a++})),r>-1&&t.eventsLog.splice(r,1)}})),localStorage.setItem("leaguePastMatches",JSON.stringify(t))},addEventBtn:function(){this.addEventState=!this.addEventState},onAddEvent:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.form.$touch(),!e.$v.form.$anyError){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.addEvent();case 5:case"end":return t.stop()}}),t)})))()},addEvent:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loadingState=!0,e.axios.defaults.withCredentials=!0,t.next=5,e.axios.post(e.$root.store.serverUrl+"unionAgent/addMatchEventsLog",{matchID:e.matchID,eventsLog:[{minuteInMatch:Number.parseInt(e.form.minuteInMatch),eventType:e.form.eventType,eventDescription:e.form.eventDescription}]});case 5:if(r=t.sent,200!=r.status){t.next=11;break}return t.next=9,e.$root.store.initDataForUnionAgent();case 9:e.$root.toast("Add Event","Event added successfully","success"),e.axios.defaults.withCredentials=!1;case 11:e.loadingState=!1,t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),e.loadingState=!1,e.form.submitError=t.t0.response.data;case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},onReset:function(){var e=this;this.form={minuteInMatch:"",eventType:"",eventDescription:"",submitError:void 0},this.$nextTick((function(){e.$v.$reset()}))},validateState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},cancelBtn:function(){var e;(null===(e=this.eventsLog)||void 0===e?void 0:e.length)?(this.onReset(),this.addEventBtn()):this.$emit("cancel-add-event")},rebootError:function(){this.form.submitError=void 0}},computed:{showEventsLogState:function(){var e;return!(!(null===(e=this.eventsLog)||void 0===e?void 0:e.length)||this.addEventState)},rows:function(){return this.eventsLog.length}},validations:{form:{minuteInMatch:{required:S["required"],numeric:S["numeric"],between:Object(S["between"])(0,120)},eventType:{required:S["required"]}}}},_=w,y=(r("3ee1"),Object(f["a"])(_,g,b,!1,null,null,null)),I=y.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h5",{attrs:{id:"add-result-title"}},[e._v(" Add Match Result : ")]),r("b-overlay",{attrs:{show:e.loadingState},scopedSlots:e._u([{key:"overlay",fn:function(){return[r("loading")]},proxy:!0}])},[r("b-form",{attrs:{id:"add-match-result-form"},on:{submit:function(t){return t.preventDefault(),e.onAddMatchResult(t)},reset:function(t){return t.preventDefault(),e.onReset(t)}}},[r("b-form-group",{attrs:{id:"input-group-local-team-score","label-cols-sm":"3",label:"Local Team Score:","label-for":"localTeamScore"}},[r("b-form-input",{attrs:{id:"localTeamScore",type:"number",min:"0",onkeypress:"return event.charCode >= 48",placeholder:e.localPlaceHolder,state:e.validateState("localTeamScore")},model:{value:e.$v.form.localTeamScore.$model,callback:function(t){e.$set(e.$v.form.localTeamScore,"$model",t)},expression:"$v.form.localTeamScore.$model"}}),e.$v.form.localTeamScore.required?e._e():r("b-form-invalid-feedback",[e._v(" Local Team '"+e._s(this.localTeamName)+"' Score is required ")]),e.$v.form.localTeamScore.numeric?e._e():r("b-form-invalid-feedback",[e._v(" Score Must Be Positive ")])],1),r("b-form-group",{attrs:{id:"input-group-visitor-team-score","label-cols-sm":"3",label:"Visitor Team Score:","label-for":"visitorTeamScore"}},[r("b-form-input",{attrs:{id:"visitorTeamScore",type:"number",min:"0",onkeypress:"return event.charCode >= 48",placeholder:e.visitorPlaceHolder,state:e.validateState("visitorTeamScore")},model:{value:e.$v.form.visitorTeamScore.$model,callback:function(t){e.$set(e.$v.form.visitorTeamScore,"$model",t)},expression:"$v.form.visitorTeamScore.$model"}}),e.$v.form.visitorTeamScore.required?e._e():r("b-form-invalid-feedback",[e._v(" Visitor Team - '"+e._s(this.visitorTeamName)+"' Score is required ")]),e.$v.form.visitorTeamScore.numeric?e._e():r("b-form-invalid-feedback",[e._v(" Score Must Be Positive ")])],1),r("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v(" Reset ")]),r("b-button",{staticClass:"ml-5 w-25",attrs:{disabled:this.$v.form.$invalid,type:"submit",variant:"primary"}},[e._v(" Add Match Result ")])],1),e.form.submitError?r("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""},on:{dismissed:e.rebootError}},[e._v(" Add New Match Failed: "+e._s(e.form.submitError)+" ")]):e._e(),r("b-button",{attrs:{variant:"info"},on:{click:function(t){return e.$emit("cancel-add-match-result")}}},[e._v(" Cancel Add Match Result ")])],1)],1)},M=[],R={name:"AddMatchResult",components:{Loading:d["a"]},data:function(){return{form:{localTeamScore:"",visitorTeamScore:"",submitError:void 0},loadingState:!1}},props:{matchID:{type:Number,require:!0},localTeamName:{type:String,require:!0},visitorTeamName:{type:String,require:!0}},methods:{validateState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},onAddMatchResult:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.form.$touch(),!e.$v.form.$anyError){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.addMatchResult();case 5:case"end":return t.stop()}}),t)})))()},addMatchResult:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loadingState=!0,e.axios.defaults.withCredentials=!0,t.next=5,e.axios.put(e.$root.store.serverUrl+"unionAgent/addMatchResult",{matchID:e.matchID,localTeamScore:Number.parseInt(e.form.localTeamScore),visitorTeamScore:Number.parseInt(e.form.visitorTeamScore)});case 5:r=t.sent,e.axios.defaults.withCredentials=!1,200==r.status&&(e.updateLocalStorage(),e.$root.toast("Add Match Result","Match result added successfully","success")),e.loadingState=!1,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),e.loadingState=!1,e.form.submitError=t.t0.response.data;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},onReset:function(){var e=this;this.form={localTeamScore:"",visitorTeamScore:"",submitError:void 0},this.$nextTick((function(){e.$v.$reset()}))},updateLocalStorage:function(){var e=this,t=JSON.parse(localStorage.getItem("leaguePastMatches"));t.map((function(t){t.matchID==e.matchID&&(t.localTeamScore=e.form.localTeamScore,t.visitorTeamScore=e.form.visitorTeamScore)})),localStorage.setItem("leaguePastMatches",JSON.stringify(t))},rebootError:function(){this.form.submitError=void 0}},computed:{localPlaceHolder:function(){return"Please Enter '"+this.localTeamName+"' Score"},visitorPlaceHolder:function(){return"Please Enter '"+this.visitorTeamName+"' Score"}},validations:{form:{localTeamScore:{required:S["required"],numeric:S["numeric"]},visitorTeamScore:{required:S["required"],numeric:S["numeric"]}}}},T=R,$=(r("4809"),Object(f["a"])(T,D,M,!1,null,null,null)),N=$.exports,E={name:"MatchesTable",components:{RefereePreview:p,EventsLogPreview:I,AddMatchResult:N,Loading:d["a"]},data:function(){return{fields:[{key:"selected"},{key:"matchID",sortable:!0},{key:"matchDate",sortable:!0},{key:"localTeamName",sortable:!0},{key:"visitorTeamName",sortable:!0},{key:"venueName"},{key:"matchScore"},{key:"refereeInformation"},{key:"eventsLog"}],perPage:5,currentPage:1,sortBy:"matchDate",sortDesc:!1}},props:{futureMatches:{type:Array,require:!0},pastMatches:{type:Array,require:!0},isBusy:{type:Boolean,require:!0},matchToDelete:{type:Number,require:!0}},computed:{matches:function(){var e=[];return 0!=this.pastMatches.length&&this.pastMatches.map((function(t){e.push({matchID:t.matchID,matchDate:t.matchDate,localTeamName:t.localTeamName,visitorTeamName:t.visitorTeamName,venueName:t.venueName,localTeamScore:t.localTeamScore,visitorTeamScore:t.visitorTeamScore,refereeInformation:t.refereeInformation,eventsLog:t.eventsLog})})),0!=this.futureMatches.length&&this.futureMatches.map((function(t){e.push({matchID:t.matchID,matchDate:t.matchDate,localTeamName:t.localTeamName,visitorTeamName:t.visitorTeamName,venueName:t.venueName,localTeamScore:void 0,visitorTeamScore:void 0,refereeInformation:t.refereeInformation,eventsLog:void 0})})),e},rows:function(){return this.futureMatches.length+this.pastMatches.length}},methods:{toggleRowDetails:function(e,t){e._showDetails?"referee"!=t||e._eventsShowing||e._matchResultShowing?"events"!=t||e._refereeShowing||e._matchResultShowing?"matchResult"!=t||e._refereeShowing||e._eventsShowing?"events"==t&&e._refereeShowing&&!e._matchResultShowing?(this.$set(e,"_refereeShowing",!e._refereeShowing),this.$set(e,"_eventsShowing",!e._eventsShowing)):"matchResult"==t&&e._refereeShowing&&!e._matchResultShowing?(this.$set(e,"_refereeShowing",!e._refereeShowing),this.$set(e,"_matchResultShowing",!e._matchResultShowing)):"referee"==t&&e._eventsShowing&&!e._matchResultShowing?(this.$set(e,"_refereeShowing",!e._refereeShowing),this.$set(e,"_eventsShowing",!e._eventsShowing)):"matchResult"==t&&e._eventsShowing&&!e._refereeShowing?(this.$set(e,"_matchResultShowing",!e._matchResultShowing),this.$set(e,"_eventsShowing",!e._eventsShowing)):"referee"==t&&e._matchResultShowing&&!e._eventsShowing?(this.$set(e,"_matchResultShowing",!e._matchResultShowing),this.$set(e,"_refereeShowing",!e._refereeShowing)):"events"==t&&e._matchResultShowing&&!e._refereeShowing&&(this.$set(e,"_matchResultShowing",!e._matchResultShowing),this.$set(e,"_eventsShowing",!e._eventsShowing)):(this.$set(e,"_matchResultShowing",!e._matchResultShowing),this.$set(e,"_showDetails",!e._showDetails)):(this.$set(e,"_eventsShowing",!e._eventsShowing),this.$set(e,"_showDetails",!e._showDetails)):(this.$set(e,"_refereeShowing",!e._refereeShowing),this.$set(e,"_showDetails",!e._showDetails)):("referee"==t?this.$set(e,"_refereeShowing",!e._refereeShowing):"events"==t?this.$set(e,"_eventsShowing",!e._eventsShowing):"matchResult"==t&&this.$set(e,"_matchResultShowing",!e._matchResultShowing),this.$set(e,"_showDetails",!e._showDetails))},checkAddMatchResult:function(e){return!(null==e.item.localTeamScore&&null==e.item.visitorTeamScore&&Date.parse(e.item.matchDate)<Date.parse(new Date))},checkEventLog:function(e){if(void 0!=(null===e||void 0===e?void 0:e.eventsLog))return 0==e.eventsLog.length?0:e.eventsLog.length>0?1:void 0},onRowSelected:function(e){var t;this.$emit("update-match-delete",null===(t=e[0])||void 0===t?void 0:t.matchID)}}},k=E,x=(r("63a2"),Object(f["a"])(k,i,c,!1,null,"58443a28",null)),A=x.exports,O={name:"LeagueManagement",components:{MatchesTable:A},data:function(){return{futureMatches:[],pastMatches:[],updateInterval:void 0,addMatchDisabled:!0,displayFutureMatches:[],displayPastMatches:[],isBusy:!0,deleteMatchID:void 0}},methods:{updateMatches:function(){if(null!=JSON.parse(localStorage.getItem("leaguePastMatches"))){var e,t;if(JSON.stringify(this.pastMatches)!==JSON.stringify(JSON.parse(localStorage.getItem("leaguePastMatches"))))this.isBusy=!0,this.pastMatches=[],(e=this.pastMatches).push.apply(e,Object(o["a"])(JSON.parse(localStorage.getItem("leaguePastMatches")))),this.isBusy=!1,this.displayPastMatches=JSON.parse(JSON.stringify(this.pastMatches));if(JSON.stringify(this.futureMatches)!==JSON.stringify(JSON.parse(localStorage.getItem("leagueFutureMatches"))))this.isBusy=!0,this.futureMatches=[],(t=this.futureMatches).push.apply(t,Object(o["a"])(JSON.parse(localStorage.getItem("leagueFutureMatches")))),this.isBusy=!1,this.displayFutureMatches=JSON.parse(JSON.stringify(this.futureMatches))}this.updateAddMatchButton()},moveToAddMatch:function(){this.$router.push("/unionAgent/match")},updateAddMatchButton:function(){null!=JSON.parse(localStorage.getItem("unionAgentDataActions"))?this.addMatchDisabled=!1:this.addMatchDisabled=!0},updateMatchDelete:function(e){this.deleteMatchID=e},deleteMatch:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isBusy=!0,e.axios.defaults.withCredentials=!0,t.next=5,e.axios["delete"](e.$root.store.serverUrl+"unionAgent/match",{params:{matchID:e.deleteMatchID}});case 5:r=t.sent,e.axios.defaults.withCredentials=!1,200==r.status&&(e.updateStorageAfterDelete(),e.$root.toast("Match Delete","Match deleted successfully","success")),e.isBusy=!1,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()},updateStorageAfterDelete:function(){var e=!1,t=JSON.parse(localStorage.getItem("leaguePastMatches")),r=this.removeMatchFromLS(t);if(e=r.foundMatch,e)t=r.matches,localStorage.setItem("leaguePastMatches",JSON.stringify(t));else{t=JSON.parse(localStorage.getItem("leagueFutureMatches"));r=this.removeMatchFromLS(t),t=r.matches,localStorage.setItem("leagueFutureMatches",JSON.stringify(t))}},removeMatchFromLS:function(e){var t,r=this,a=!1,n=0;return e.map((function(e){e.matchID==r.deleteMatchID&&(a=!0,t=n),n++})),t>-1&&e.splice(t,1),{foundMatch:a,matches:e}}},mounted:function(){this.updateInterval=setInterval(this.updateMatches,100)},beforeDestroy:function(){clearInterval(this.updateInterval)}},L=O,C=(r("45e7"),Object(f["a"])(L,a,n,!1,null,null,null));t["default"]=C.exports},a434:function(e,t,r){"use strict";var a=r("23e7"),n=r("23cb"),s=r("a691"),o=r("50c4"),i=r("7b0b"),c=r("65f0"),l=r("8418"),u=r("1dde"),d=r("ae40"),m=u("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,v=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m||!h},{splice:function(e,t){var r,a,u,d,m,h,b=i(this),S=o(b.length),w=n(e,S),_=arguments.length;if(0===_?r=a=0:1===_?(r=0,a=S-w):(r=_-2,a=v(f(s(t),0),S-w)),S+r-a>p)throw TypeError(g);for(u=c(b,a),d=0;d<a;d++)m=w+d,m in b&&l(u,d,b[m]);if(u.length=a,r<a){for(d=w;d<S-a;d++)m=d+a,h=d+r,m in b?b[h]=b[m]:delete b[h];for(d=S;d>S-a+r;d--)delete b[d-1]}else if(r>a)for(d=S-a;d>w;d--)m=d+a-1,h=d+r-1,m in b?b[h]=b[m]:delete b[h];for(d=0;d<r;d++)b[d+w]=arguments[d+2];return b.length=S-a+r,u}})},a9e3:function(e,t,r){"use strict";var a=r("83ab"),n=r("da84"),s=r("94ca"),o=r("6eeb"),i=r("5135"),c=r("c6b6"),l=r("7156"),u=r("c04e"),d=r("d039"),m=r("7c73"),h=r("241c").f,f=r("06cf").f,v=r("9bf2").f,p=r("58a8").trim,g="Number",b=n[g],S=b.prototype,w=c(m(S))==g,_=function(e){var t,r,a,n,s,o,i,c,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=p(l),t=l.charCodeAt(0),43===t||45===t){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+l}for(s=l.slice(2),o=s.length,i=0;i<o;i++)if(c=s.charCodeAt(i),c<48||c>n)return NaN;return parseInt(s,a)}return+l};if(s(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var y,I=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof I&&(w?d((function(){S.valueOf.call(r)})):c(r)!=g)?l(new b(_(t)),r,I):_(t)},D=a?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),M=0;D.length>M;M++)i(b,y=D[M])&&!i(I,y)&&v(I,y,f(b,y));I.prototype=S,S.constructor=I,o(n,g,I)}},c20d:function(e,t,r){var a=r("da84"),n=r("58a8").trim,s=r("5899"),o=a.parseInt,i=/^[+-]?0[Xx]/,c=8!==o(s+"08")||22!==o(s+"0x16");e.exports=c?function(e,t){var r=n(String(e));return o(r,t>>>0||(i.test(r)?16:10))}:o},e914:function(e,t,r){},ee14:function(e,t,r){},efc1:function(e,t,r){}}]);
//# sourceMappingURL=chunk-7827165d.1b45dc5f.js.map